<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To-Do List App</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>

    <div class="container">
        <div class="todo-app">
            <h2>To do-List <img src="./images/icon.png"  alt=""></h2>
            <div class="row">
                <input type="text" id ="inputbox" placeholder="Add Your Text ">
                <button onclick= "addTask()">Add</button>
            </div>
            <ul id ="list-container">
                <!-- <li class="checked">Task 1 </li>
                <li>Task 2 </li>
                <li>Task 3 </li>
                 -->
            </ul>
    
        </div>

        <script>

          const inputBox = document.getElementById('inputbox');
          const listContainer = document.getElementById('list-container');

            function addTask(){
                const task = inputBox.value;
                if(task === NaN || task === ''){
                    alert('Please Enter a Task');
                }
                else{
                    
                    let li = document.createElement('li');
                    li.innerText = task;
                    listContainer.appendChild(li);
                    let span = document.createElement('span');
                    span.innerText = 'x';
                    li.appendChild(span);

                }
                inputBox.value = ' ';
                toLocal()
            }   

            listContainer.addEventListener('click', function(e){
                if(e.target.tagName === 'LI'){
                    e.target.classList.toggle('checked');
                    toLocal();
                }
                else if(e.target.tagName === 'SPAN'){
                    e.target.parentElement.remove();
                    toLocal();
                }
            })

            function toLocal(){
                localStorage.setItem("date",listContainer.innerHTML);

            }

            function getLocal(){
                listContainer.innerHTML = localStorage.getItem("date");
            }
            getLocal()


        </script>
    </div>

</body>
</html>